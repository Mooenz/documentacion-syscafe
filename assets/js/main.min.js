const windowIsReady=window.addEventListener("DOMContentLoaded",(()=>{const $=selector=>document.querySelectorAll(selector),windowWidth=window.innerWidth,tabs=$(".documentacion__tabs .documentacion__item "),tabContents=$(".documentacion__informacion .documentacion__informacion--item");tabs.forEach((tab=>{tab.addEventListener("click",(e=>{e.preventDefault();const tab=e.target,tabContent=tab.dataset.content,tabContentElement=document.querySelector(tabContent);tabs.forEach((tab=>tab.classList.remove("activo"))),tab.classList.add("activo"),tabContents.forEach((content=>{content.classList.remove("activo")})),tabContentElement.classList.add("activo")}))})),tabContents.forEach((contenido=>{const enlacesInternos=contenido.querySelectorAll(".documentacion__informacion--contenedor a"),select=contenido.querySelector(".documentacion__informacion--select select");let observer;function scrollYActivar(id){observer&&observer.disconnect();const elemento=document.querySelector(id);if(!elemento)return;const offset=windowWidth<992?-140:-76,rect=elemento.getBoundingClientRect(),scrollTop=window.pageYOffset||document.documentElement.scrollTop;window.scrollTo({top:rect.top+scrollTop+offset,behavior:"smooth"});const enlace=contenido.querySelector(`a[href="${id}"]`);if(enlace){const li=enlace.closest("li");(li?.parentElement?.querySelectorAll("li")||[]).forEach((li=>li.classList.remove("activo"))),li.classList.add("activo")}select&&select.value!==id&&(select.value=id),setTimeout((()=>{contenido.querySelectorAll(".documentacion__informacion--contenido > div > div").forEach((item=>observer.observe(item)))}),800)}enlacesInternos.forEach((enlace=>{enlace.addEventListener("click",(e=>{e.preventDefault();scrollYActivar(enlace.getAttribute("href"))}))})),select&&select.addEventListener("change",(e=>{const selectedValue=e.target.value;selectedValue&&scrollYActivar(selectedValue)})),observer=new IntersectionObserver((entries=>{entries.forEach((entry=>{if(entry.isIntersecting){const id=`#${entry.target.id}`,enlace=contenido.querySelector(`a[href="${id}"]`);if(!enlace)return;const li=enlace.closest("li");(li?.parentElement?.querySelectorAll("li")||[]).forEach((li=>li.classList.remove("activo"))),li.classList.add("activo"),select&&select.value!==id&&(select.value=id)}}))}),{rootMargin:"-50% 0px -50% 0px"});contenido.querySelectorAll(".documentacion__informacion--contenido > div > div").forEach((item=>observer.observe(item)))}));const documentacion=document.querySelector(".documentacion"),documentacionLink=document.querySelector(".link-encuesta"),observer=new IntersectionObserver((entries=>{entries.forEach((entry=>{entry.isIntersecting&&(setTimeout((()=>{documentacionLink.classList.add("activo")}),5e3),observer.unobserve(documentacion))}))}),{threshold:.01});observer.observe(documentacion);document.querySelector("#link-encuesta-cerrar").addEventListener("click",(()=>{documentacionLink.classList.remove("activo")}));const backToTopButton=document.querySelector("#volver-arriba");backToTopButton.addEventListener("click",(()=>{documentacion.scrollIntoView({behavior:"smooth",block:"start"})}));const inicio=document.querySelector("#hero");new IntersectionObserver((entries=>{entries.forEach((entry=>{entry.isIntersecting?backToTopButton.classList.remove("activo"):backToTopButton.classList.add("activo")}))}),{threshold:.2}).observe(inicio);const year=(new Date).getFullYear();document.querySelector("#fecha").innerHTML=year}));